<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bubble Pop Game - Play Free Online Bubble Popping Game | PatternRipple</title>

  <!-- SEO Meta Tags -->
  <meta name="description" content="Play Bubble Pop game online for free! Pop colorful bubbles, unlock combos, collect power-ups and score big. Addictive bubble popping game with special bubbles and achievements. No download required.">
  <meta name="keywords" content="bubble pop game, bubble popping, free online game, casual game, bubble game, stress relief game, pop bubbles, browser game, combo game, power-ups">
  <meta name="author" content="Nick Panek">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://www.patternripple.com/bubble.html">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.patternripple.com/bubble.html">
  <meta property="og:title" content="Bubble Pop Game - Play Free Online with Combos & Power-ups">
  <meta property="og:description" content="Addictive bubble popping game with special bubbles, combo system, and achievements. Play free now!">
  <meta property="og:image" content="https://www.patternripple.com/og-bubble-pop.png">
  <meta property="og:site_name" content="PatternRipple">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://www.patternripple.com/bubble.html">
  <meta name="twitter:title" content="Bubble Pop - Free Online Game with Combos">
  <meta name="twitter:description" content="Pop bubbles, build combos, unlock achievements! Free browser game.">
  <meta name="twitter:image" content="https://www.patternripple.com/og-bubble-pop.png">

  <!-- Schema.org structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "VideoGame",
    "name": "Bubble Pop",
    "description": "Free online bubble popping game with combo system, special bubbles, and achievements.",
    "url": "https://www.patternripple.com/bubble.html",
    "genre": "Casual Game",
    "gamePlatform": "Web Browser",
    "gameFeature": ["Combo System", "Special Bubbles", "Achievements", "High Score"],
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "publisher": {
      "@type": "Organization",
      "name": "PatternRipple",
      "url": "https://patternripple.com"
    }
  }
  </script>
  <style>
    :root {
      --hud-h: 110px;
      --bg-a: #667eea;
      --bg-b: #764ba2;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      min-height: 100vh;
      color: #111;
      user-select: none;
      overflow: hidden;
      background: linear-gradient(135deg, var(--bg-a), var(--bg-b));
      background-size: 200% 200%;
      animation: bgShift 12s ease-in-out infinite;
    }
    @keyframes bgShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Top HUD */
    #hud {
      position: fixed;
      inset: 0 0 auto 0;
      height: var(--hud-h);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 8px;
      z-index: 1000;
      padding: 12px;
      backdrop-filter: blur(10px);
      background: rgba(255,255,255,0.18);
      border-bottom: 1px solid rgba(255,255,255,0.25);
    }
    #hudTop {
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .pill {
      display: flex;
      align-items: baseline;
      gap: 8px;
      padding: 8px 16px;
      border-radius: 999px;
      background: rgba(255,255,255,0.85);
      box-shadow: 0 6px 16px rgba(0,0,0,0.15);
      font-weight: 700;
    }
    .pill .label { font-size: 12px; color: #555; font-weight: 600; }
    .pill .value { font-size: 22px; line-height: 1; color: #4b5bd5; }

    #comboDisplay {
      font-size: 16px;
      font-weight: 800;
      color: white;
      text-shadow: 0 2px 8px rgba(0,0,0,0.4);
      opacity: 0;
      transition: opacity 0.3s;
    }
    #comboDisplay.active { opacity: 1; }

    #highScoreDisplay {
      font-size: 11px;
      color: rgba(255,255,255,0.9);
      text-align: center;
      margin-top: 2px;
    }

    /* Game field */
    #gameContainer {
      position: absolute;
      top: var(--hud-h);
      left: 0;
      width: 100vw;
      height: calc(100vh - var(--hud-h));
      cursor: crosshair;
      overflow: hidden;
    }

    /* Modals */
    .modal {
      position: absolute;
      top: calc(var(--hud-h) + 50%);
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 28px 40px;
      border-radius: 18px;
      box-shadow: 0 14px 44px rgba(0,0,0,0.35);
      text-align: center;
      z-index: 2000;
      max-width: 92vw;
    }
    .modal h1, .modal h2 {
      margin-bottom: 8px;
      color: #4b5bd5;
      font-size: 36px;
    }
    .modal p { margin: 8px 0 18px; color: #555; font-size: 14px; line-height: 1.5; }

    .btn {
      font-size: 20px;
      padding: 12px 32px;
      border: 0;
      border-radius: 12px;
      color: white;
      font-weight: 800;
      cursor: pointer;
      background: linear-gradient(135deg, var(--bg-a), var(--bg-b));
      box-shadow: 0 10px 24px rgba(0,0,0,0.25);
      transition: transform 0.12s ease;
    }
    .btn:hover { transform: translateY(-1px); }
    .btn:active { transform: translateY(0); }

    /* Bubbles */
    .bubble {
      position: absolute;
      border-radius: 50%;
      cursor: pointer;
      will-change: transform, opacity, left, top;
      box-shadow:
        inset -10px -10px 22px rgba(0,0,0,0.22),
        inset 10px 10px 22px rgba(255,255,255,0.35),
        0 8px 20px rgba(0,0,0,0.28);
      transform: translateZ(0);
      animation: floatUp linear forwards;
    }
    .bubble::before {
      content: "";
      position: absolute;
      top: 14%;
      left: 18%;
      width: 32%;
      height: 32%;
      background: rgba(255,255,255,0.55);
      border-radius: 50%;
      filter: blur(0.5px);
    }

    /* Special bubble indicators */
    .bubble.golden::after {
      content: "‚≠ê";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 24px;
      animation: spin 3s linear infinite;
    }
    .bubble.bomb::after {
      content: "üí£";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 20px;
    }

    @keyframes spin {
      from { transform: translate(-50%, -50%) rotate(0deg); }
      to { transform: translate(-50%, -50%) rotate(360deg); }
    }

    /* Particle effects */
    .particle {
      position: absolute;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      pointer-events: none;
      animation: particleFloat 800ms ease-out forwards;
    }
    @keyframes particleFloat {
      0% { opacity: 1; transform: translate(0, 0) scale(1); }
      100% { opacity: 0; transform: var(--particle-end) scale(0); }
    }

    /* Score popup */
    .popup {
      position: absolute;
      font-size: 24px;
      font-weight: 900;
      color: white;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.6);
      pointer-events: none;
      animation: popFloat 900ms ease-out forwards;
      z-index: 1500;
    }
    @keyframes popFloat {
      0% { opacity: 1; transform: translate(-50%, -10px) scale(1); }
      100% { opacity: 0; transform: translate(-50%, -90px) scale(1.5); }
    }

    /* Achievement notification */
    .achievement {
      position: fixed;
      top: calc(var(--hud-h) + 20px);
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #FFD700, #FFA500);
      color: #111;
      padding: 12px 24px;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.3);
      font-weight: 800;
      font-size: 16px;
      z-index: 3000;
      animation: achievementSlide 3s ease-in-out forwards;
    }
    @keyframes achievementSlide {
      0%, 100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
      10%, 90% { opacity: 1; transform: translateX(-50%) translateY(0); }
    }

    @keyframes bubblePop {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.3); }
      100% { transform: scale(0); opacity: 0; }
    }

    @keyframes floatUp {
      0% { transform: translateY(0); }
      100% { transform: translateY(-100px); }
    }

    #hint {
      position: fixed;
      right: 12px;
      bottom: 10px;
      font-size: 11px;
      color: rgba(255,255,255,0.9);
      padding: 6px 10px;
      border-radius: 8px;
      background: rgba(0,0,0,0.2);
    }

    @media (max-width: 600px) {
      .modal { padding: 20px 24px; }
      .modal h1, .modal h2 { font-size: 28px; }
      .pill .value { font-size: 18px; }
      .btn { font-size: 18px; padding: 10px 24px; }
    }
  </style>
</head>
<body>
  <!-- HUD -->
  <div id="hud">
    <div id="hudTop">
      <div class="pill"><span class="label">Score</span><span class="value" id="score">0</span></div>
      <div class="pill"><span class="label">Time</span><span class="value" id="timer">45s</span></div>
      <div class="pill"><span class="label">High</span><span class="value" id="highScore">0</span></div>
    </div>
    <div id="comboDisplay"></div>
    <div id="highScoreDisplay"></div>
  </div>

  <!-- Game Field -->
  <div id="gameContainer" aria-label="Bubble Pop game area"></div>

  <!-- Start Modal -->
  <div id="startScreen" class="modal">
    <h1>ü´ß Bubble Pop</h1>
    <p>Pop bubbles in 45 seconds!<br>
    ‚≠ê Golden bubbles = 3x points<br>
    üí£ Bomb bubbles = chain reaction<br>
    Build combos for bonus multipliers!</p>
    <button id="startBtn" class="btn">Start Game</button>
  </div>

  <!-- Game Over Modal -->
  <div id="gameOver" class="modal" style="display:none;">
    <h2>Game Over</h2>
    <div id="finalScore" style="font-size:26px;color:#764ba2;margin:12px 0 18px;"></div>
    <div id="statsDisplay" style="font-size:13px;color:#666;margin-bottom:18px;"></div>
    <button id="restartBtn" class="btn">Play Again</button>
  </div>

  <div id="hint">Golden ‚≠ê = 3x | Bomb üí£ = chain | Combo = bonus</div>

  <script>
    const container = document.getElementById('gameContainer');
    const scoreDisplay = document.getElementById('score');
    const timerDisplay = document.getElementById('timer');
    const highScoreDisplay = document.getElementById('highScore');
    const gameOverScreen = document.getElementById('gameOver');
    const finalScoreDisplay = document.getElementById('finalScore');
    const statsDisplay = document.getElementById('statsDisplay');
    const startScreen = document.getElementById('startScreen');
    const startBtn = document.getElementById('startBtn');
    const restartBtn = document.getElementById('restartBtn');
    const comboDisplay = document.getElementById('comboDisplay');

    let score = 0;
    let timeLeft = 45;
    let gameActive = false;
    let bubbleInterval = null;
    let timerInterval = null;
    let combo = 0;
    let lastPopTime = 0;
    let bubblesPopped = 0;
    let goldBubblesPopped = 0;
    let bombsPopped = 0;
    let highScore = parseInt(localStorage.getItem('bubblePopHighScore') || '0');

    highScoreDisplay.textContent = highScore;

    const colors = ['#FF6B6B','#4ECDC4','#45B7D1','#FFA07A','#98D8C8','#F7DC6F','#BB8FCE','#85C1E2'];
    const achievements = [
      { threshold: 100, message: "üéØ Century Club!" },
      { threshold: 250, message: "üî• On Fire!" },
      { threshold: 500, message: "‚ö° Unstoppable!" },
      { threshold: 1000, message: "üëë Bubble Master!" }
    ];
    let unlockedAchievements = new Set();

    function randColor() { return colors[Math.floor(Math.random()*colors.length)]; }
    function clamp(n, min, max) { return Math.max(min, Math.min(max, n)); }

    function spawnBounds() {
      const rect = container.getBoundingClientRect();
      return { w: rect.width, h: rect.height, x: 0, y: 0 };
    }

    function showAchievement(message) {
      const ach = document.createElement('div');
      ach.className = 'achievement';
      ach.textContent = message;
      document.body.appendChild(ach);
      setTimeout(() => ach.remove(), 3000);
    }

    function checkAchievements() {
      achievements.forEach(a => {
        if (score >= a.threshold && !unlockedAchievements.has(a.threshold)) {
          unlockedAchievements.add(a.threshold);
          showAchievement(a.message);
        }
      });
    }

    function updateCombo() {
      const now = Date.now();
      if (now - lastPopTime < 1000) {
        combo++;
      } else {
        combo = 1;
      }
      lastPopTime = now;

      if (combo >= 3) {
        comboDisplay.textContent = `üî• ${combo}x COMBO!`;
        comboDisplay.className = 'active';
      } else {
        comboDisplay.className = '';
      }
    }

    function getComboMultiplier() {
      if (combo >= 10) return 3;
      if (combo >= 5) return 2;
      if (combo >= 3) return 1.5;
      return 1;
    }

    function createParticles(x, y, color, count = 8) {
      for (let i = 0; i < count; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.background = color;
        particle.style.left = x + 'px';
        particle.style.top = y + 'px';

        const angle = (Math.PI * 2 * i) / count;
        const distance = 40 + Math.random() * 40;
        const tx = Math.cos(angle) * distance;
        const ty = Math.sin(angle) * distance;
        particle.style.setProperty('--particle-end', `translate(${tx}px, ${ty}px)`);

        container.appendChild(particle);
        setTimeout(() => particle.remove(), 800);
      }
    }

    function createBubble() {
      if (!gameActive) return;

      const { w, h } = spawnBounds();
      const bubble = document.createElement('div');
      bubble.className = 'bubble';

      // Random special bubble chance
      const rand = Math.random();
      let isGolden = false;
      let isBomb = false;

      if (rand < 0.08) { // 8% golden
        isGolden = true;
        bubble.classList.add('golden');
      } else if (rand < 0.15) { // 7% bomb
        isBomb = true;
        bubble.classList.add('bomb');
      }

      const size = isGolden || isBomb ? 70 : Math.random()*50 + 40;
      const basePoints = isGolden ? 150 : (isBomb ? 50 : Math.max(5, Math.ceil(100 - size)));

      const maxLeft = clamp(w - size, 0, w);
      const maxTop  = clamp(h - size, 0, h);
      const left = Math.random() * maxLeft;
      const top  = Math.random() * maxTop;

      const c1 = isGolden ? '#FFD700' : (isBomb ? '#FF4444' : randColor());
      const c2 = isGolden ? '#FFA500' : (isBomb ? '#AA0000' : randColor());

      bubble.style.width = size + 'px';
      bubble.style.height = size + 'px';
      bubble.style.left = left + 'px';
      bubble.style.top = top + 'px';
      bubble.style.background = `radial-gradient(circle at 30% 30%, ${c1}, ${c2})`;

      const floatMs = 1600 + Math.random()*1400;
      bubble.style.animationDuration = floatMs + 'ms';

      const pop = (ev) => {
        ev.stopPropagation();
        popBubble(bubble, basePoints, isGolden, isBomb);
      };
      bubble.addEventListener('click', pop, { passive: true });
      bubble.addEventListener('touchstart', pop, { passive: true });

      container.appendChild(bubble);

      const lifeMs = 2600 + Math.random()*1200;
      const killer = setTimeout(() => {
        if (bubble.parentNode && gameActive) {
          bubble.remove();
          // Reset combo if bubble escapes
          combo = 0;
          comboDisplay.className = '';
        }
      }, lifeMs);

      bubble._killer = killer;
      bubble._isGolden = isGolden;
      bubble._isBomb = isBomb;
      bubble._basePoints = basePoints;
    }

    function popBubble(bubble, basePoints, isGolden, isBomb) {
      if (!gameActive || !bubble.isConnected) return;

      bubblesPopped++;
      if (isGolden) goldBubblesPopped++;
      if (isBomb) bombsPopped++;

      updateCombo();

      const multiplier = getComboMultiplier() * (isGolden ? 3 : 1);
      const points = Math.round(basePoints * multiplier);

      score += points;
      scoreDisplay.textContent = score;
      checkAchievements();

      const rect = bubble.getBoundingClientRect();
      const parentRect = container.getBoundingClientRect();
      const px = rect.left - parentRect.left + rect.width/2;
      const py = rect.top - parentRect.top + rect.height/2;

      // Particles
      const particleColor = isGolden ? '#FFD700' : (isBomb ? '#FF4444' : '#FFF');
      createParticles(px, py, particleColor, isBomb ? 16 : 8);

      // Score popup
      const popup = document.createElement('div');
      popup.className = 'popup';
      popup.textContent = '+' + points;
      if (combo >= 3) popup.textContent += ` (${combo}x)`;
      popup.style.left = px + 'px';
      popup.style.top = py + 'px';
      popup.style.color = isGolden ? '#FFD700' : '#FFF';
      container.appendChild(popup);

      // Bomb chain reaction
      if (isBomb) {
        const nearbyBubbles = Array.from(document.querySelectorAll('.bubble')).filter(b => {
          if (b === bubble) return false;
          const bRect = b.getBoundingClientRect();
          const bx = bRect.left + bRect.width/2;
          const by = bRect.top + bRect.height/2;
          const dist = Math.sqrt(Math.pow(bx - (rect.left + rect.width/2), 2) + Math.pow(by - (rect.top + rect.height/2), 2));
          return dist < 120;
        });

        nearbyBubbles.forEach((nb, i) => {
          setTimeout(() => {
            if (nb.isConnected) {
              popBubble(nb, nb._basePoints || 20, nb._isGolden, false);
            }
          }, i * 80);
        });
      }

      bubble.style.animation = 'bubblePop 250ms ease-out forwards';

      if (bubble._killer) clearTimeout(bubble._killer);
      setTimeout(() => { popup.remove(); bubble.remove(); }, 250);
    }

    function startGame() {
      gameActive = true;
      score = 0;
      timeLeft = 45;
      combo = 0;
      bubblesPopped = 0;
      goldBubblesPopped = 0;
      bombsPopped = 0;
      unlockedAchievements.clear();

      scoreDisplay.textContent = score;
      timerDisplay.textContent = timeLeft + 's';
      comboDisplay.className = '';
      startScreen.style.display = 'none';
      gameOverScreen.style.display = 'none';

      container.innerHTML = '';

      let spawnRate = 550;
      bubbleInterval = setInterval(() => {
        if (!gameActive) return;
        createBubble();
        if (timeLeft <= 15 && Math.random() < 0.4) createBubble();
        if (timeLeft <= 8 && Math.random() < 0.3) createBubble();
      }, spawnRate);

      timerInterval = setInterval(() => {
        timeLeft--;
        timerDisplay.textContent = timeLeft + 's';
        if (timeLeft <= 0) endGame();
      }, 1000);
    }

    function endGame() {
      gameActive = false;
      clearInterval(bubbleInterval);
      clearInterval(timerInterval);

      document.querySelectorAll('.bubble').forEach(b => b.remove());

      const isNewHigh = score > highScore;
      if (isNewHigh) {
        highScore = score;
        localStorage.setItem('bubblePopHighScore', highScore);
        highScoreDisplay.textContent = highScore;
      }

      finalScoreDisplay.innerHTML = `Final Score: <strong>${score}</strong>${isNewHigh ? ' üèÜ NEW HIGH!' : ''}`;
      statsDisplay.innerHTML = `
        Bubbles popped: ${bubblesPopped}<br>
        ‚≠ê Golden: ${goldBubblesPopped} | üí£ Bombs: ${bombsPopped}<br>
        Best combo: ${combo}x
      `;
      gameOverScreen.style.display = 'block';
    }

    startBtn.addEventListener('click', startGame);
    restartBtn.addEventListener('click', startGame);

    window.addEventListener('resize', () => {
      if (!gameActive) return;
      document.querySelectorAll('.bubble').forEach(b => b.remove());
    });
  </script>
</body>
</html>
